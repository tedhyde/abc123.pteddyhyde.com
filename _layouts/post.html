---
layout: default
---

<article class="post">
  <h1>{{ page.title }}</h1>

  <div id="excerpt">
    {{ page.excerpt }}
</div>

  <div id="full">
    <h1>This is the entire thing</h1>
    {{ content }}
</div>

<iframe height="150px" width="100%" frameborder="0" id="th" src="https://www.teddyhyde.com/contribution/xrd.teddyhyde.io"></iframe>
<script src="https://cdn.teddyhyde.com/0.0.1/teddyhyde-client-0.0.1.js"></script>

<div class="outer">
<div id="thanks">
Thank you for your contribution! Your support allows me to keep writing.
</div>
    </div>

<div class="outer">
<div id="myad">
    Oh, so you don't want to contribute. Ok, please read this ad for a bit, and then you can read my blog.
</div>
</div>

<script>

function setDisplayById( id, display ) {
    const el = document.getElementById(id);
    if (el) {
	el.style.display = display;
    }
}

function revealContent(){
    console.log( "Inside reveal content" );
    setDisplayById("excerpt", "none" );
    setDisplayById("full", "inline-block" );
    setDisplayById("th", "none" );
}

function sayThanks() {
    setDisplayById( "thanks", "inline-block" );
    setTimeout( function() {
	setDisplayById( "thanks", "none" );
    }, 5000 );
}

  function showAltMessage() {
  setDisplayById( "myad", "inline-block" );
  setTimeout( function() {
    revealContent();
    setDisplayById( "myad", "none" );
    }, 10*1000 );
    console.log( "Hmm, you won't contribute, OK" );
  }

  TeddyHydeClient.onDecline( function() {
      showAltMessage();
      console.log( "Hey, we declined to pay!!!" );
  });

  TeddyHydeClient.onContribution( function() {
      sayThanks();
      revealContent();
  });

  TeddyHydeClient.onAlreadyPaid( function() {
    revealContent();
  });

  TeddyHydeClient.onTx( function( data ) {
      console.log( "Got tx", data );
      TeddyHydeClient.logTx( data );
  });

  TeddyHydeClient.onLoadFailed( function() {
      console.log( "Failed to load it!!!" );
  });
			
  </script>
  
  <div class="date">
    Written on {{ page.date | date: "%B %e, %Y" }}
  </div>

  {% include disqus.html %}
</article>

